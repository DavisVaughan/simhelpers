---
output: github_document
always_allow_html: true
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/",
  out.width = "100%"
)
```

# simhelpers

<!-- badges: start -->
<!-- badges: end -->

Simulations are experiments to study the performance of statistical methods under known data-generating conditions (Morris, White & Crowther, 2018). Methodologists examine questions like: (1) how does ordinary least squares (OLS) regression perform if errors are heteroskedastic? (2) how does the presence of missing data affect treatment effect estimates from a propensity score analysis? (3) how does robust variance estimation perform when sample size is small? To answer such questions, we conduct experiments by simulating thousands of datasets from pseudo-random sampling (Morris et al., 2018). 

The goal of `simhelpers` is to assist in running simulation studies. This package provides a set of functions that calculates various performance measures like bias, root mean squared error, rejection rates, and also calculates the associated Monte Carlo standard errors (MCSE). These functions are divided into broad four categories: absolute criteria, relative criteria, rejection rate, and confidence interval coverage. The functions are created to work with `tidyeval` practice using packages like `dplyr`. 

In addition to the set of functions that calculates performance measures and MCSE, the package also includes a function, `create_skeleton()`, that generates a skeleton outline of a simulation study that can be applied when designing and conducting one. Another function, `evaluate_by_row()` runs the simulation for each combination of conditions row by row and implements the `future_pmap()` function from the `furrr` package to run the simulation in parallel. The package also contains several datasets that contain results from example simulation studies. 


## Installation

You can install the development version from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("meghapsimatrix/simhelpers")
```

# Simulation Workflow

```{r, echo = FALSE, warning = FALSE, message = FALSE}
library(DiagrammeR)

grViz("digraph flowchart {
      # node definitions with substituted label text
      node [fontname = Helvetica, shape = rectangle]        
      tab1 [label = '@@1']
      tab2 [label = '@@2']
      tab3 [label = '@@3']
      tab4 [label = '@@4']
      tab5 [label = '@@5']

      # edge definitions with the node IDs
      tab1 -> tab2 -> tab3 -> tab4 -> tab5;
      }

      [1]: 'Experimental Design'
      [2]: 'Data Generating Model'
      [3]: 'Estimation Methods'
      [4]: 'Performance Summaries'
      [5]: 'Results'
      ")
```

