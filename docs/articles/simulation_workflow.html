<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simulation Workflow • simhelpers</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Simulation Workflow">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">simhelpers</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/MCSE.html">Simulation Performance Criteria and MCSE</a>
    </li>
    <li>
      <a href="../articles/simulation_workflow.html">Simulation Workflow</a>
    </li>
    <li>
      <a href="../articles/visualization.html">Presenting Results from Simulation Studies</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="simulation_workflow_files/htmlwidgets-1.5.1/htmlwidgets.js"></script><script src="simulation_workflow_files/viz-1.8.2/viz.js"></script><link href="simulation_workflow_files/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="simulation_workflow_files/grViz-binding-1.0.5/grViz.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Simulation Workflow</h1>
            
      
      
      <div class="hidden name"><code>simulation_workflow.Rmd</code></div>

    </div>

    
    
<p>Simulation studies generally follow the following workflow (Morris, White &amp; Crowther, 2018):</p>
<ol style="list-style-type: decimal">
<li>Create an experimental design</li>
<li>Generate a dataset</li>
<li>Run statistical methods on the dataset</li>
<li>Measure performance criteria and calculate MCSE</li>
<li>Run steps 1-3 thousands of times for each of the experimental design conditions</li>
<li>Evaluate the overall results</li>
</ol>
<p>The flowchart below depicts the workflow. The chart is created using <code>grViz()</code> from <a href="https://rich-iannone.github.io/DiagrammeR/"><code>DiagrammeR</code></a> package.</p>
<div id="htmlwidget-fdfe23a5e8cc2c581aac" style="width:700px;height:432.632880098888px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-fdfe23a5e8cc2c581aac">{"x":{"diagram":"digraph flowchart {\n      # node definitions with substituted label text\n      node [fontname = Helvetica, shape = rectangle]        \n      tab1 [label = \"Experimental Design\"]\n      tab2 [label = \"Data Generating Model\"]\n      tab3 [label = \"Estimation Methods\"]\n      tab4 [label = \"Performance Summaries\"]\n      tab5 [label = \"Results\"]\n\n      # edge definitions with the node IDs\n      tab1 -> tab2 -> tab3 -> tab4 -> tab5;\n      }","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script><p>The explanation of the workflow in this vignette follow notes from Dr. James Pustejovsky’s <a href="https://www.jepusto.com/teaching/daspir/">Data Analysis, Simulation and Programming in R course (Spring, 2019)</a>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(simhelpers)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(dplyr)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(tibble)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(purrr)</a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(tidyr)</a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(knitr)</a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(kableExtra)</a>
<a class="sourceLine" id="cb1-8" data-line-number="8"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(broom)</a>
<a class="sourceLine" id="cb1-9" data-line-number="9"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ggplot2)</a></code></pre></div>
<div id="experimental-design-initial" class="section level2">
<h2 class="hasAnchor">
<a href="#experimental-design-initial" class="anchor"></a>Experimental Design Initial</h2>
<p>Before we begin working on the simulation study, we should decide what model and design parameters we want to vary. Parameters can include sample size, proportion of missing data etc.</p>
</div>
<div id="generating-dataset" class="section level2">
<h2 class="hasAnchor">
<a href="#generating-dataset" class="anchor"></a>Generating Dataset</h2>
<p>The data generating function below takes in model parameters. For example, we can generate data varying the sample size or level of heteroskedasticity or the amount of missingness. Below is a skeleton of the data generating function. The arguments are any data generating parameters that we would want to vary.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">generate_dat &lt;-<span class="st"> </span><span class="cf">function</span>(model_params) {</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"></a>
<a class="sourceLine" id="cb2-3" data-line-number="3">  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span>(dat)</a>
<a class="sourceLine" id="cb2-4" data-line-number="4">}</a></code></pre></div>
<p>Below is an example where we generate random normal data for two groups. The function takes in two arguments: <code>n</code>, indicating sample size per group assuming equal sample size, and <code>mean_diff</code>, indicating the mean difference.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">generate_dat &lt;-<span class="st"> </span><span class="cf">function</span>(n, mean_diff){</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"></a>
<a class="sourceLine" id="cb3-3" data-line-number="3">  dat &lt;-<span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/reexports.html">tibble</a></span>(<span class="dt">group_1 =</span> <span class="kw"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="dt">n =</span> n, mean_diff, <span class="dv">1</span>), <span class="co"># mean mean_diff and sd 1 </span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4">                <span class="dt">group_2 =</span> <span class="kw"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="dt">n =</span> n, <span class="dv">0</span>, <span class="dv">2</span>)) <span class="co"># mean 0, sd 2</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"></a>
<a class="sourceLine" id="cb3-6" data-line-number="6">  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span>(dat)</a>
<a class="sourceLine" id="cb3-7" data-line-number="7"></a>
<a class="sourceLine" id="cb3-8" data-line-number="8">}</a></code></pre></div>
<p>After creating the data generating function, we should check whether it works. Below, we generate an example dataset with 10,000 people in each group and the <code>mean_diff</code> set to 1. We pivot the data to a long format for visualization.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="dv">2020143</span>)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">example_dat &lt;-<span class="st"> </span><span class="kw">generate_dat</span>(<span class="dt">n =</span> <span class="dv">10000</span>, <span class="dt">mean_diff =</span> <span class="dv">1</span>) </a>
<a class="sourceLine" id="cb4-3" data-line-number="3"></a>
<a class="sourceLine" id="cb4-4" data-line-number="4">graph_dat &lt;-<span class="st"> </span>example_dat <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer</a></span>(<span class="dt">cols =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(group_<span class="dv">1</span><span class="op">:</span>group_<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb4-6" data-line-number="6">               <span class="dt">names_to =</span> <span class="st">"group"</span>,</a>
<a class="sourceLine" id="cb4-7" data-line-number="7">               <span class="dt">values_to =</span> <span class="st">"val"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">group =</span> <span class="kw"><a href="https://dplyr.tidyverse.org/reference/if_else.html">if_else</a></span>(group <span class="op">==</span><span class="st"> "group_1"</span>, <span class="st">"Group 1"</span>, <span class="st">"Group 2"</span>))</a>
<a class="sourceLine" id="cb4-9" data-line-number="9"></a>
<a class="sourceLine" id="cb4-10" data-line-number="10">graph_dat <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>()</a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="co">#&gt; # A tibble: 6 x 2</span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13"><span class="co">#&gt;   group      val</span></a>
<a class="sourceLine" id="cb4-14" data-line-number="14"><span class="co">#&gt;   &lt;chr&gt;    &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb4-15" data-line-number="15"><span class="co">#&gt; 1 Group 1  0.491</span></a>
<a class="sourceLine" id="cb4-16" data-line-number="16"><span class="co">#&gt; 2 Group 2  2.92 </span></a>
<a class="sourceLine" id="cb4-17" data-line-number="17"><span class="co">#&gt; 3 Group 1 -0.534</span></a>
<a class="sourceLine" id="cb4-18" data-line-number="18"><span class="co">#&gt; 4 Group 2 -1.42 </span></a>
<a class="sourceLine" id="cb4-19" data-line-number="19"><span class="co">#&gt; 5 Group 1  1.02 </span></a>
<a class="sourceLine" id="cb4-20" data-line-number="20"><span class="co">#&gt; 6 Group 2  0.143</span></a></code></pre></div>
<p>Below, we create a summary table. The mean of the outcome for Group 1 is close to 1 and the mean for Group 2 is close to 0. The standard deviation of the outcome for Group 1 is close to 1 and the standard deviation for Group 2 is close to 2. The table matches what we specified in the data generating model.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">graph_dat <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(group) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span>(<span class="dt">n =</span> <span class="kw"><a href="https://dplyr.tidyverse.org/reference/n.html">n</a></span>(),</a>
<a class="sourceLine" id="cb5-4" data-line-number="4">            <span class="dt">M =</span> <span class="kw"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(val),</a>
<a class="sourceLine" id="cb5-5" data-line-number="5">            <span class="dt">SD =</span> <span class="kw"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span>(val)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>(<span class="dt">digits =</span> <span class="dv">3</span>)</a></code></pre></div>
<table class="table">
<thead><tr>
<th style="text-align:left;">
group
</th>
<th style="text-align:right;">
n
</th>
<th style="text-align:right;">
M
</th>
<th style="text-align:right;">
SD
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Group 1
</td>
<td style="text-align:right;">
10000
</td>
<td style="text-align:right;">
0.998
</td>
<td style="text-align:right;">
0.996
</td>
</tr>
<tr>
<td style="text-align:left;">
Group 2
</td>
<td style="text-align:right;">
10000
</td>
<td style="text-align:right;">
-0.014
</td>
<td style="text-align:right;">
2.028
</td>
</tr>
</tbody>
</table>
<p>Below we create a density plot of the values that we generated for each of the groups. The distributions seem normal. The peaks seem to have a difference of 1. And, the variances of the outcome scores are different for each group as we specified.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(graph_dat, <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> val, <span class="dt">fill =</span> group)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density</a></span>(<span class="dt">alpha =</span> <span class="fl">.5</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="dt">x =</span> <span class="st">"Outcome Scores"</span>, <span class="dt">y =</span> <span class="st">"Density"</span>, <span class="dt">fill =</span> <span class="st">"Group"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span>()</a></code></pre></div>
<p><img src="simulation_workflow_files/figure-html/unnamed-chunk-8-1.png" width="672"></p>
</div>
<div id="estimation-methods" class="section level2">
<h2 class="hasAnchor">
<a href="#estimation-methods" class="anchor"></a>Estimation Methods</h2>
<p>Here, we run some statistical methods to estimate test statistics, regression coefficients, p-values, or confidence intervals. The function takes in the data and any design parameters.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">estimate &lt;-<span class="st"> </span><span class="cf">function</span>(dat, design_params) {</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"></a>
<a class="sourceLine" id="cb7-3" data-line-number="3">  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span>(results)</a>
<a class="sourceLine" id="cb7-4" data-line-number="4">}</a></code></pre></div>
<p>Below is an example function that runs t-tests on a simulated dataset. The function runs a normal t-test, which assumes homogeneity of variance and a Welch t-test, which does not assume that the population variances of the outcome for the two groups are equal. The function returns a tibble containing the names of the two methods, mean difference estimates, p-values, and upper and lower bounds of the confidence intervals. We could use the <code><a href="https://rdrr.io/r/stats/t.test.html">t.test()</a></code> function to extract everything we need but we are calculating the t-statistic using sample statistics just for fun.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">estimate &lt;-<span class="st"> </span><span class="cf">function</span>(dat){</a>
<a class="sourceLine" id="cb8-2" data-line-number="2"></a>
<a class="sourceLine" id="cb8-3" data-line-number="3">  <span class="co"># calculate summary stats</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4">  est &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(dat<span class="op">$</span>group_<span class="dv">1</span>) <span class="op">-</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(dat<span class="op">$</span>group_<span class="dv">2</span>)  <span class="co"># mean diff</span></a>
<a class="sourceLine" id="cb8-5" data-line-number="5">  n1 &lt;-<span class="st"> </span>n2 &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span>(dat) <span class="co"># sample size per group</span></a>
<a class="sourceLine" id="cb8-6" data-line-number="6">  var_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/cor.html">var</a></span>(dat<span class="op">$</span>group_<span class="dv">1</span>) <span class="co"># variance of outcome group 1</span></a>
<a class="sourceLine" id="cb8-7" data-line-number="7">  var_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/cor.html">var</a></span>(dat<span class="op">$</span>group_<span class="dv">2</span>) <span class="co"># variance of outcome group 2</span></a>
<a class="sourceLine" id="cb8-8" data-line-number="8"></a>
<a class="sourceLine" id="cb8-9" data-line-number="9">  <span class="co"># normal t-test</span></a>
<a class="sourceLine" id="cb8-10" data-line-number="10">  dft &lt;-<span class="st"> </span>n1 <span class="op">+</span><span class="st"> </span>n2 <span class="op">-</span><span class="st"> </span><span class="dv">2</span>  <span class="co"># degrees of freedom</span></a>
<a class="sourceLine" id="cb8-11" data-line-number="11">  sp_sq &lt;-<span class="st"> </span>((n1 <span class="op">-</span><span class="st"> </span><span class="dv">1</span>) <span class="op">*</span><span class="st"> </span>var_<span class="dv">1</span> <span class="op">+</span><span class="st"> </span>(n2 <span class="op">-</span><span class="st"> </span><span class="dv">1</span>) <span class="op">*</span><span class="st"> </span>var_<span class="dv">2</span>) <span class="op">/</span><span class="st"> </span>dft  <span class="co"># pooled var</span></a>
<a class="sourceLine" id="cb8-12" data-line-number="12">  vdt &lt;-<span class="st"> </span>sp_sq <span class="op">*</span><span class="st"> </span>(<span class="dv">1</span> <span class="op">/</span><span class="st"> </span>n1 <span class="op">+</span><span class="st"> </span><span class="dv">1</span> <span class="op">/</span><span class="st"> </span>n2) <span class="co"># variance of estimate</span></a>
<a class="sourceLine" id="cb8-13" data-line-number="13"></a>
<a class="sourceLine" id="cb8-14" data-line-number="14">  <span class="co"># welch t-test</span></a>
<a class="sourceLine" id="cb8-15" data-line-number="15">  dfw &lt;-<span class="st"> </span>(var_<span class="dv">1</span> <span class="op">/</span><span class="st"> </span>n1 <span class="op">+</span><span class="st"> </span>var_<span class="dv">2</span> <span class="op">/</span><span class="st"> </span>n2)<span class="op">^</span><span class="dv">2</span> <span class="op">/</span><span class="st"> </span>(((<span class="dv">1</span> <span class="op">/</span><span class="st"> </span>(n1 <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)) <span class="op">*</span><span class="st"> </span>(var_<span class="dv">1</span> <span class="op">/</span><span class="st"> </span>n1)<span class="op">^</span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span>((<span class="dv">1</span> <span class="op">/</span><span class="st"> </span>(n2 <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)) <span class="op">*</span><span class="st"> </span>(var_<span class="dv">2</span> <span class="op">/</span><span class="st"> </span>n2)<span class="op">^</span><span class="dv">2</span>))  <span class="co"># degrees of freedom </span></a>
<a class="sourceLine" id="cb8-16" data-line-number="16">  vdw &lt;-<span class="st"> </span>var_<span class="dv">1</span> <span class="op">/</span><span class="st"> </span>n1 <span class="op">+</span><span class="st"> </span>var_<span class="dv">2</span> <span class="op">/</span><span class="st"> </span>n2 <span class="co"># variance of estimate</span></a>
<a class="sourceLine" id="cb8-17" data-line-number="17"></a>
<a class="sourceLine" id="cb8-18" data-line-number="18">  <span class="co"># t and p value</span></a>
<a class="sourceLine" id="cb8-19" data-line-number="19">  calc_t &lt;-<span class="st"> </span><span class="cf">function</span>(est, vd, df, method){</a>
<a class="sourceLine" id="cb8-20" data-line-number="20"></a>
<a class="sourceLine" id="cb8-21" data-line-number="21">    se &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span>(vd)  <span class="co"># standard error </span></a>
<a class="sourceLine" id="cb8-22" data-line-number="22">    t &lt;-<span class="st"> </span>est <span class="op">/</span><span class="st"> </span>se <span class="co"># t-test </span></a>
<a class="sourceLine" id="cb8-23" data-line-number="23">    p_val &lt;-<span class="st">  </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/TDist.html">pt</a></span>(<span class="op">-</span><span class="kw"><a href="https://rdrr.io/r/base/MathFun.html">abs</a></span>(t), <span class="dt">df =</span> df) <span class="co"># p value</span></a>
<a class="sourceLine" id="cb8-24" data-line-number="24">    ci &lt;-<span class="st"> </span>est <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>) <span class="op">*</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/TDist.html">qt</a></span>(.<span class="dv">975</span>, <span class="dt">df =</span> df) <span class="op">*</span><span class="st"> </span>se <span class="co"># confidence interval</span></a>
<a class="sourceLine" id="cb8-25" data-line-number="25"></a>
<a class="sourceLine" id="cb8-26" data-line-number="26">    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span>(<span class="kw"><a href="https://dplyr.tidyverse.org/reference/reexports.html">tibble</a></span>(<span class="dt">method =</span> method, <span class="dt">est =</span> est, <span class="dt">p_val =</span> p_val, <span class="dt">lower_bound =</span> ci[<span class="dv">1</span>], <span class="dt">upper_bound =</span> ci[<span class="dv">2</span>]))</a>
<a class="sourceLine" id="cb8-27" data-line-number="27">  }</a>
<a class="sourceLine" id="cb8-28" data-line-number="28"></a>
<a class="sourceLine" id="cb8-29" data-line-number="29">  results &lt;-<span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span>(<span class="kw">calc_t</span>(<span class="dt">est =</span> est, <span class="dt">vd =</span> vdt, <span class="dt">df =</span> dft, <span class="dt">method =</span> <span class="st">"t-test"</span>),</a>
<a class="sourceLine" id="cb8-30" data-line-number="30">                   <span class="kw">calc_t</span>(<span class="dt">est =</span> est, <span class="dt">vd =</span> vdw, <span class="dt">df =</span> dfw, <span class="dt">method =</span> <span class="st">"Welch t-test"</span>))</a>
<a class="sourceLine" id="cb8-31" data-line-number="31"></a>
<a class="sourceLine" id="cb8-32" data-line-number="32"></a>
<a class="sourceLine" id="cb8-33" data-line-number="33">  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span>(results)</a>
<a class="sourceLine" id="cb8-34" data-line-number="34"></a>
<a class="sourceLine" id="cb8-35" data-line-number="35">}</a></code></pre></div>
<p>Here again, it would be good to check if the function is running as it should. Below we run the <code>estimate()</code> function on the example dataset:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">(est_res &lt;-<span class="st"> </span><span class="kw">estimate</span>(example_dat) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="st">   </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate_all.html">mutate_if</a></span>(is.numeric, round, <span class="dv">5</span>))</a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="co">#&gt; # A tibble: 2 x 5</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="co">#&gt;   method         est p_val lower_bound upper_bound</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="co">#&gt;   &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="co">#&gt; 1 t-test        1.01     0       0.967        1.06</span></a>
<a class="sourceLine" id="cb9-7" data-line-number="7"><span class="co">#&gt; 2 Welch t-test  1.01     0       0.967        1.06</span></a></code></pre></div>
<p>We can compare the results to those from the built-in <code><a href="https://rdrr.io/r/stats/t.test.html">t.test()</a></code> function:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">(t_res &lt;-<span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span>(<span class="kw"><a href="http://broom.tidyverse.org/reference/reexports.html">tidy</a></span>(<span class="kw"><a href="https://rdrr.io/r/stats/t.test.html">t.test</a></span>(example_dat<span class="op">$</span>group_<span class="dv">1</span>, example_dat<span class="op">$</span>group_<span class="dv">2</span>, <span class="dt">var.equal =</span> <span class="ot">TRUE</span>)), </a>
<a class="sourceLine" id="cb10-2" data-line-number="2">          <span class="kw"><a href="http://broom.tidyverse.org/reference/reexports.html">tidy</a></span>(<span class="kw"><a href="https://rdrr.io/r/stats/t.test.html">t.test</a></span>(example_dat<span class="op">$</span>group_<span class="dv">1</span>, example_dat<span class="op">$</span>group_<span class="dv">2</span>))) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">estimate =</span> estimate1 <span class="op">-</span><span class="st"> </span>estimate2, </a>
<a class="sourceLine" id="cb10-4" data-line-number="4">         <span class="dt">method =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"t-test"</span>, <span class="st">"Welch t-test"</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(method, <span class="dt">est =</span> estimate, <span class="dt">p_val =</span> p.value, <span class="dt">lower_bound =</span> conf.low, <span class="dt">upper_bound =</span> conf.high) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate_all.html">mutate_if</a></span>(is.numeric, round, <span class="dv">5</span>))</a>
<a class="sourceLine" id="cb10-7" data-line-number="7"><span class="co">#&gt; # A tibble: 2 x 5</span></a>
<a class="sourceLine" id="cb10-8" data-line-number="8"><span class="co">#&gt;   method         est p_val lower_bound upper_bound</span></a>
<a class="sourceLine" id="cb10-9" data-line-number="9"><span class="co">#&gt;   &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb10-10" data-line-number="10"><span class="co">#&gt; 1 t-test        1.01     0       0.967        1.06</span></a>
<a class="sourceLine" id="cb10-11" data-line-number="11"><span class="co">#&gt; 2 Welch t-test  1.01     0       0.967        1.06</span></a></code></pre></div>
<p>The values match.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw"><a href="https://dplyr.tidyverse.org/reference/all_equal.html">all_equal</a></span>(est_res, t_res)</a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="co">#&gt; [1] TRUE</span></a></code></pre></div>
</div>
<div id="performance-summaries" class="section level2">
<h2 class="hasAnchor">
<a href="#performance-summaries" class="anchor"></a>Performance Summaries</h2>
<p>In this step, we create a function to calculate performance measures based on the results that we extracted from the estimation step. The function below takes in the results, and any model parameters.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">calc_performance &lt;-<span class="st"> </span><span class="cf">function</span>(results, model_params) {</a>
<a class="sourceLine" id="cb12-2" data-line-number="2"></a>
<a class="sourceLine" id="cb12-3" data-line-number="3">  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span>(performance_measures)</a>
<a class="sourceLine" id="cb12-4" data-line-number="4">}</a></code></pre></div>
<p>The function below fills in the <code>calc_performance()</code> function. We use the <code><a href="../reference/calc_rejection.html">calc_rejection()</a></code> function in the <code>simhelpers</code> package to calculate rejection rates.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">calc_performance &lt;-<span class="st"> </span><span class="cf">function</span>(results) {</a>
<a class="sourceLine" id="cb13-2" data-line-number="2">  </a>
<a class="sourceLine" id="cb13-3" data-line-number="3">  performance_measures &lt;-<span class="st"> </span>results <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="st">    </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(method) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb13-5" data-line-number="5"><span class="st">    </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/do.html">do</a></span>(<span class="kw"><a href="../reference/calc_rejection.html">calc_rejection</a></span>(., <span class="dt">p_values =</span> p_val))</a>
<a class="sourceLine" id="cb13-6" data-line-number="6"></a>
<a class="sourceLine" id="cb13-7" data-line-number="7">  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span>(performance_measures)</a>
<a class="sourceLine" id="cb13-8" data-line-number="8">}</a></code></pre></div>
</div>
<div id="simulation-driver" class="section level2">
<h2 class="hasAnchor">
<a href="#simulation-driver" class="anchor"></a>Simulation Driver</h2>
<p>The following code chunk sets up the simulation driver. The arguments specify the number of iterations for the simulation and any parameters that need to be specified to run the data generating and estimating functions. The function then calculates the performance measures and returns the data with the results.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">run_sim &lt;-<span class="st"> </span><span class="cf">function</span>(iterations, model_params, design_params, <span class="dt">seed =</span> <span class="ot">NULL</span>) {</a>
<a class="sourceLine" id="cb14-2" data-line-number="2">  <span class="cf">if</span> (<span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span>(seed)) <span class="kw"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(seed)</a>
<a class="sourceLine" id="cb14-3" data-line-number="3"></a>
<a class="sourceLine" id="cb14-4" data-line-number="4">  results &lt;-</a>
<a class="sourceLine" id="cb14-5" data-line-number="5"><span class="st">    </span><span class="kw"><a href="https://purrr.tidyverse.org/reference/rerun.html">rerun</a></span>(iterations, {</a>
<a class="sourceLine" id="cb14-6" data-line-number="6">      dat &lt;-<span class="st"> </span><span class="kw">generate_dat</span>(model_params)</a>
<a class="sourceLine" id="cb14-7" data-line-number="7">      <span class="kw">estimate</span>(dat, design_params)</a>
<a class="sourceLine" id="cb14-8" data-line-number="8">    }) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-9" data-line-number="9"><span class="st">    </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span>()</a>
<a class="sourceLine" id="cb14-10" data-line-number="10"></a>
<a class="sourceLine" id="cb14-11" data-line-number="11">  <span class="kw">calc_performance</span>(results, model_params)</a>
<a class="sourceLine" id="cb14-12" data-line-number="12">}</a></code></pre></div>
<p>Below is the driver for our example simulation study:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">run_sim &lt;-<span class="st"> </span><span class="cf">function</span>(iterations, n, mean_diff, <span class="dt">seed =</span> <span class="ot">NULL</span>) {</a>
<a class="sourceLine" id="cb15-2" data-line-number="2">  <span class="cf">if</span> (<span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span>(seed)) <span class="kw"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(seed)</a>
<a class="sourceLine" id="cb15-3" data-line-number="3"></a>
<a class="sourceLine" id="cb15-4" data-line-number="4">  results &lt;-</a>
<a class="sourceLine" id="cb15-5" data-line-number="5"><span class="st">    </span><span class="kw"><a href="https://purrr.tidyverse.org/reference/rerun.html">rerun</a></span>(iterations, {</a>
<a class="sourceLine" id="cb15-6" data-line-number="6">      dat &lt;-<span class="st"> </span><span class="kw">generate_dat</span>(n, mean_diff)</a>
<a class="sourceLine" id="cb15-7" data-line-number="7">      <span class="kw">estimate</span>(dat)</a>
<a class="sourceLine" id="cb15-8" data-line-number="8">    }) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb15-9" data-line-number="9"><span class="st">    </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span>()</a>
<a class="sourceLine" id="cb15-10" data-line-number="10">  </a>
<a class="sourceLine" id="cb15-11" data-line-number="11">  <span class="kw">calc_performance</span>(results)</a>
<a class="sourceLine" id="cb15-12" data-line-number="12"></a>
<a class="sourceLine" id="cb15-13" data-line-number="13">}</a></code></pre></div>
</div>
<div id="experimental-design-revisit" class="section level2">
<h2 class="hasAnchor">
<a href="#experimental-design-revisit" class="anchor"></a>Experimental Design Revisit</h2>
<p>Now that we have all our functions in order, we can specify the exact factors we want to manipulate in the study. The following code chunk creates a list of design factors and uses the <a href="https://purrr.tidyverse.org/reference/cross.html"><code><a href="https://purrr.tidyverse.org/reference/cross.html">cross_df()</a></code></a> function from <a href="https://purrr.tidyverse.org/"><code>purrr</code></a> package that creates every combination of the factor levels. We also set the number of iterations and the seed that will be used when generating data.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="dv">20150316</span>) <span class="co"># change this seed value!</span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2"></a>
<a class="sourceLine" id="cb16-3" data-line-number="3"><span class="co"># now express the simulation parameters as vectors/lists</span></a>
<a class="sourceLine" id="cb16-4" data-line-number="4"></a>
<a class="sourceLine" id="cb16-5" data-line-number="5">design_factors &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">factor1 =</span> , <span class="dt">factor2 =</span> , ...) <span class="co"># combine into a design set</span></a>
<a class="sourceLine" id="cb16-6" data-line-number="6"></a>
<a class="sourceLine" id="cb16-7" data-line-number="7">params &lt;-</a>
<a class="sourceLine" id="cb16-8" data-line-number="8"><span class="st">  </span><span class="kw"><a href="https://purrr.tidyverse.org/reference/cross.html">cross_df</a></span>(design_factors) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb16-9" data-line-number="9"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(</a>
<a class="sourceLine" id="cb16-10" data-line-number="10">    <span class="dt">iterations =</span> <span class="dv">1000</span>,  <span class="co"># change this to how many ever iterations  </span></a>
<a class="sourceLine" id="cb16-11" data-line-number="11">    <span class="dt">seed =</span> <span class="kw"><a href="https://rdrr.io/r/base/Round.html">round</a></span>(<span class="kw"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span>(<span class="dv">1</span>) <span class="op">*</span><span class="st"> </span><span class="dv">2</span><span class="op">^</span><span class="dv">30</span>) <span class="op">+</span><span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/n.html">n</a></span>()</a>
<a class="sourceLine" id="cb16-12" data-line-number="12">  )</a>
<a class="sourceLine" id="cb16-13" data-line-number="13"></a>
<a class="sourceLine" id="cb16-14" data-line-number="14"><span class="co"># All look right?</span></a>
<a class="sourceLine" id="cb16-15" data-line-number="15"><span class="kw"><a href="https://rdrr.io/r/base/lengths.html">lengths</a></span>(design_factors)</a>
<a class="sourceLine" id="cb16-16" data-line-number="16"><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span>(params)</a>
<a class="sourceLine" id="cb16-17" data-line-number="17"><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(params)</a></code></pre></div>
<p>The code below specifies two design factors: <code>n</code>, which specifies the sample size per group assuming equal sample size and <code>mean_diff</code>, which denotes the mean difference between two groups on an outcome. These are the between simulation factors. The within-simulation factor is the t-test method with one assuming equal variance and one not assuming equal variance.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="dv">20200110</span>)</a>
<a class="sourceLine" id="cb17-2" data-line-number="2"></a>
<a class="sourceLine" id="cb17-3" data-line-number="3"><span class="co"># now express the simulation parameters as vectors/lists</span></a>
<a class="sourceLine" id="cb17-4" data-line-number="4"></a>
<a class="sourceLine" id="cb17-5" data-line-number="5">design_factors &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</a>
<a class="sourceLine" id="cb17-6" data-line-number="6">  <span class="dt">n =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">50</span>, <span class="dv">100</span>),</a>
<a class="sourceLine" id="cb17-7" data-line-number="7">  <span class="dt">mean_diff =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">0</span>, <span class="fl">.5</span>, <span class="dv">1</span>, <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb17-8" data-line-number="8">)</a>
<a class="sourceLine" id="cb17-9" data-line-number="9"></a>
<a class="sourceLine" id="cb17-10" data-line-number="10">params &lt;-</a>
<a class="sourceLine" id="cb17-11" data-line-number="11"><span class="st">  </span><span class="kw"><a href="https://purrr.tidyverse.org/reference/cross.html">cross_df</a></span>(design_factors) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb17-12" data-line-number="12"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(</a>
<a class="sourceLine" id="cb17-13" data-line-number="13">    <span class="dt">iterations =</span> <span class="dv">1000</span>,</a>
<a class="sourceLine" id="cb17-14" data-line-number="14">    <span class="dt">seed =</span> <span class="kw"><a href="https://rdrr.io/r/base/Round.html">round</a></span>(<span class="kw"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span>(<span class="dv">1</span>) <span class="op">*</span><span class="st"> </span><span class="dv">2</span><span class="op">^</span><span class="dv">30</span>) <span class="op">+</span><span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/n.html">n</a></span>()</a>
<a class="sourceLine" id="cb17-15" data-line-number="15">  )</a>
<a class="sourceLine" id="cb17-16" data-line-number="16"></a>
<a class="sourceLine" id="cb17-17" data-line-number="17"></a>
<a class="sourceLine" id="cb17-18" data-line-number="18"><span class="co"># All look right?</span></a>
<a class="sourceLine" id="cb17-19" data-line-number="19"><span class="kw"><a href="https://rdrr.io/r/base/lengths.html">lengths</a></span>(design_factors)</a>
<a class="sourceLine" id="cb17-20" data-line-number="20"><span class="co">#&gt;         n mean_diff </span></a>
<a class="sourceLine" id="cb17-21" data-line-number="21"><span class="co">#&gt;         2         4</span></a>
<a class="sourceLine" id="cb17-22" data-line-number="22"><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span>(params)</a>
<a class="sourceLine" id="cb17-23" data-line-number="23"><span class="co">#&gt; [1] 8</span></a>
<a class="sourceLine" id="cb17-24" data-line-number="24"><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(params)</a>
<a class="sourceLine" id="cb17-25" data-line-number="25"><span class="co">#&gt; # A tibble: 6 x 4</span></a>
<a class="sourceLine" id="cb17-26" data-line-number="26"><span class="co">#&gt;       n mean_diff iterations      seed</span></a>
<a class="sourceLine" id="cb17-27" data-line-number="27"><span class="co">#&gt;   &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb17-28" data-line-number="28"><span class="co">#&gt; 1    50       0         1000 204809087</span></a>
<a class="sourceLine" id="cb17-29" data-line-number="29"><span class="co">#&gt; 2   100       0         1000 204809088</span></a>
<a class="sourceLine" id="cb17-30" data-line-number="30"><span class="co">#&gt; 3    50       0.5       1000 204809089</span></a>
<a class="sourceLine" id="cb17-31" data-line-number="31"><span class="co">#&gt; 4   100       0.5       1000 204809090</span></a>
<a class="sourceLine" id="cb17-32" data-line-number="32"><span class="co">#&gt; 5    50       1         1000 204809091</span></a>
<a class="sourceLine" id="cb17-33" data-line-number="33"><span class="co">#&gt; 6   100       1         1000 204809092</span></a></code></pre></div>
</div>
<div id="running-the-simulation-in-serial" class="section level2">
<h2 class="hasAnchor">
<a href="#running-the-simulation-in-serial" class="anchor"></a>Running the Simulation in Serial</h2>
<p>Here we run the simulation using <code>purrr</code> package serial workflow:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/system.time.html">system.time</a></span>(</a>
<a class="sourceLine" id="cb18-2" data-line-number="2">  results &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb18-3" data-line-number="3"><span class="st">    </span>params <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb18-4" data-line-number="4"><span class="st">    </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(</a>
<a class="sourceLine" id="cb18-5" data-line-number="5">      <span class="dt">res =</span> <span class="kw"><a href="https://purrr.tidyverse.org/reference/map2.html">pmap</a></span>(., <span class="dt">.f =</span> run_sim)</a>
<a class="sourceLine" id="cb18-6" data-line-number="6">    ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb18-7" data-line-number="7"><span class="st">    </span><span class="kw"><a href="https://tidyr.tidyverse.org/reference/nest.html">unnest</a></span>(<span class="dt">cols =</span> res)</a>
<a class="sourceLine" id="cb18-8" data-line-number="8">)</a>
<a class="sourceLine" id="cb18-9" data-line-number="9"><span class="co">#&gt;    user  system elapsed </span></a>
<a class="sourceLine" id="cb18-10" data-line-number="10"><span class="co">#&gt;  13.293   0.184  15.291</span></a>
<a class="sourceLine" id="cb18-11" data-line-number="11"></a>
<a class="sourceLine" id="cb18-12" data-line-number="12">results <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb18-13" data-line-number="13"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>()</a></code></pre></div>
<table class="table">
<thead><tr>
<th style="text-align:right;">
n
</th>
<th style="text-align:right;">
mean_diff
</th>
<th style="text-align:right;">
iterations
</th>
<th style="text-align:right;">
seed
</th>
<th style="text-align:left;">
method
</th>
<th style="text-align:right;">
rej_rate
</th>
<th style="text-align:right;">
rej_rate_mcse
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809087
</td>
<td style="text-align:left;">
t-test
</td>
<td style="text-align:right;">
0.048
</td>
<td style="text-align:right;">
0.0067599
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809087
</td>
<td style="text-align:left;">
Welch t-test
</td>
<td style="text-align:right;">
0.047
</td>
<td style="text-align:right;">
0.0066926
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809088
</td>
<td style="text-align:left;">
t-test
</td>
<td style="text-align:right;">
0.040
</td>
<td style="text-align:right;">
0.0061968
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809088
</td>
<td style="text-align:left;">
Welch t-test
</td>
<td style="text-align:right;">
0.040
</td>
<td style="text-align:right;">
0.0061968
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809089
</td>
<td style="text-align:left;">
t-test
</td>
<td style="text-align:right;">
0.340
</td>
<td style="text-align:right;">
0.0149800
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809089
</td>
<td style="text-align:left;">
Welch t-test
</td>
<td style="text-align:right;">
0.335
</td>
<td style="text-align:right;">
0.0149256
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809090
</td>
<td style="text-align:left;">
t-test
</td>
<td style="text-align:right;">
0.600
</td>
<td style="text-align:right;">
0.0154919
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809090
</td>
<td style="text-align:left;">
Welch t-test
</td>
<td style="text-align:right;">
0.600
</td>
<td style="text-align:right;">
0.0154919
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809091
</td>
<td style="text-align:left;">
t-test
</td>
<td style="text-align:right;">
0.876
</td>
<td style="text-align:right;">
0.0104223
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809091
</td>
<td style="text-align:left;">
Welch t-test
</td>
<td style="text-align:right;">
0.871
</td>
<td style="text-align:right;">
0.0106000
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809092
</td>
<td style="text-align:left;">
t-test
</td>
<td style="text-align:right;">
0.989
</td>
<td style="text-align:right;">
0.0032983
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809092
</td>
<td style="text-align:left;">
Welch t-test
</td>
<td style="text-align:right;">
0.989
</td>
<td style="text-align:right;">
0.0032983
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
2.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809093
</td>
<td style="text-align:left;">
t-test
</td>
<td style="text-align:right;">
1.000
</td>
<td style="text-align:right;">
0.0000000
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
2.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809093
</td>
<td style="text-align:left;">
Welch t-test
</td>
<td style="text-align:right;">
1.000
</td>
<td style="text-align:right;">
0.0000000
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
2.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809094
</td>
<td style="text-align:left;">
t-test
</td>
<td style="text-align:right;">
1.000
</td>
<td style="text-align:right;">
0.0000000
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
2.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809094
</td>
<td style="text-align:left;">
Welch t-test
</td>
<td style="text-align:right;">
1.000
</td>
<td style="text-align:right;">
0.0000000
</td>
</tr>
</tbody>
</table>
</div>
<div id="running-the-simulation-in-parallel" class="section level2">
<h2 class="hasAnchor">
<a href="#running-the-simulation-in-parallel" class="anchor"></a>Running the Simulation in Parallel</h2>
<p>Below we use the <a href="https://rstudio.github.io/promises/articles/futures.html"><code>future</code></a> and the <a href="https://davisvaughan.github.io/furrr/"><code>furrr</code></a> package to run the simulation in parallel. These packages are designed to work with functions from the <code>purrr</code> package. The line below gets a cluster set up on your computer or network. For more complicated network setups, please see the <a href="https://cran.r-project.org/web/packages/future/vignettes/future-1-overview.html">documentation for the future package</a>.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="kw">plan</span>(multisession)</a></code></pre></div>
<p>Once the cluster is configured, we can just replace <a href="https://purrr.tidyverse.org/reference/map2.html"><code><a href="https://purrr.tidyverse.org/reference/map2.html">pmap()</a></code></a> from <code>purrr</code> with <a href="https://davisvaughan.github.io/furrr/reference/future_map2.html"><code><a href="https://rdrr.io/pkg/furrr/man/future_map2.html">future_pmap()</a></code></a> to run the simulation in parallel.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(future)</a>
<a class="sourceLine" id="cb20-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(furrr)</a>
<a class="sourceLine" id="cb20-3" data-line-number="3"></a>
<a class="sourceLine" id="cb20-4" data-line-number="4"><span class="kw"><a href="https://rdrr.io/pkg/future/man/plan.html">plan</a></span>(multisession) <span class="co"># choose an appropriate plan from the future package</span></a>
<a class="sourceLine" id="cb20-5" data-line-number="5"></a>
<a class="sourceLine" id="cb20-6" data-line-number="6"><span class="kw"><a href="https://rdrr.io/r/base/system.time.html">system.time</a></span>(</a>
<a class="sourceLine" id="cb20-7" data-line-number="7">  results &lt;-</a>
<a class="sourceLine" id="cb20-8" data-line-number="8"><span class="st">    </span>params <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb20-9" data-line-number="9"><span class="st">    </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">res =</span> <span class="kw"><a href="https://rdrr.io/pkg/furrr/man/future_map2.html">future_pmap</a></span>(., <span class="dt">.f =</span> run_sim)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb20-10" data-line-number="10"><span class="st">    </span><span class="kw"><a href="https://tidyr.tidyverse.org/reference/nest.html">unnest</a></span>(<span class="dt">cols =</span> res)</a>
<a class="sourceLine" id="cb20-11" data-line-number="11">)</a>
<a class="sourceLine" id="cb20-12" data-line-number="12"><span class="co">#&gt;    user  system elapsed </span></a>
<a class="sourceLine" id="cb20-13" data-line-number="13"><span class="co">#&gt;   0.226   0.009  10.907</span></a>
<a class="sourceLine" id="cb20-14" data-line-number="14"></a>
<a class="sourceLine" id="cb20-15" data-line-number="15">results <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb20-16" data-line-number="16"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>()</a></code></pre></div>
<table class="table">
<thead><tr>
<th style="text-align:right;">
n
</th>
<th style="text-align:right;">
mean_diff
</th>
<th style="text-align:right;">
iterations
</th>
<th style="text-align:right;">
seed
</th>
<th style="text-align:left;">
method
</th>
<th style="text-align:right;">
rej_rate
</th>
<th style="text-align:right;">
rej_rate_mcse
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809087
</td>
<td style="text-align:left;">
t-test
</td>
<td style="text-align:right;">
0.048
</td>
<td style="text-align:right;">
0.0067599
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809087
</td>
<td style="text-align:left;">
Welch t-test
</td>
<td style="text-align:right;">
0.047
</td>
<td style="text-align:right;">
0.0066926
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809088
</td>
<td style="text-align:left;">
t-test
</td>
<td style="text-align:right;">
0.040
</td>
<td style="text-align:right;">
0.0061968
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809088
</td>
<td style="text-align:left;">
Welch t-test
</td>
<td style="text-align:right;">
0.040
</td>
<td style="text-align:right;">
0.0061968
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809089
</td>
<td style="text-align:left;">
t-test
</td>
<td style="text-align:right;">
0.340
</td>
<td style="text-align:right;">
0.0149800
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809089
</td>
<td style="text-align:left;">
Welch t-test
</td>
<td style="text-align:right;">
0.335
</td>
<td style="text-align:right;">
0.0149256
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809090
</td>
<td style="text-align:left;">
t-test
</td>
<td style="text-align:right;">
0.600
</td>
<td style="text-align:right;">
0.0154919
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809090
</td>
<td style="text-align:left;">
Welch t-test
</td>
<td style="text-align:right;">
0.600
</td>
<td style="text-align:right;">
0.0154919
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809091
</td>
<td style="text-align:left;">
t-test
</td>
<td style="text-align:right;">
0.876
</td>
<td style="text-align:right;">
0.0104223
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809091
</td>
<td style="text-align:left;">
Welch t-test
</td>
<td style="text-align:right;">
0.871
</td>
<td style="text-align:right;">
0.0106000
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809092
</td>
<td style="text-align:left;">
t-test
</td>
<td style="text-align:right;">
0.989
</td>
<td style="text-align:right;">
0.0032983
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809092
</td>
<td style="text-align:left;">
Welch t-test
</td>
<td style="text-align:right;">
0.989
</td>
<td style="text-align:right;">
0.0032983
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
2.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809093
</td>
<td style="text-align:left;">
t-test
</td>
<td style="text-align:right;">
1.000
</td>
<td style="text-align:right;">
0.0000000
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
2.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809093
</td>
<td style="text-align:left;">
Welch t-test
</td>
<td style="text-align:right;">
1.000
</td>
<td style="text-align:right;">
0.0000000
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
2.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809094
</td>
<td style="text-align:left;">
t-test
</td>
<td style="text-align:right;">
1.000
</td>
<td style="text-align:right;">
0.0000000
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
2.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809094
</td>
<td style="text-align:left;">
Welch t-test
</td>
<td style="text-align:right;">
1.000
</td>
<td style="text-align:right;">
0.0000000
</td>
</tr>
</tbody>
</table>
<p>In the <code>simhelpers</code> package, we have a function, <code><a href="../reference/evaluate_by_row.html">evaluate_by_row()</a></code>, that implements the <code>furrr</code> workflow:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/pkg/future/man/plan.html">plan</a></span>(multisession)</a>
<a class="sourceLine" id="cb21-2" data-line-number="2"><span class="kw"><a href="../reference/evaluate_by_row.html">evaluate_by_row</a></span>(params, run_sim) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb21-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>()</a>
<a class="sourceLine" id="cb21-4" data-line-number="4"><span class="co">#&gt;    user  system elapsed </span></a>
<a class="sourceLine" id="cb21-5" data-line-number="5"><span class="co">#&gt;   0.221   0.011  14.980</span></a></code></pre></div>
<table class="table">
<thead><tr>
<th style="text-align:right;">
n
</th>
<th style="text-align:right;">
mean_diff
</th>
<th style="text-align:right;">
iterations
</th>
<th style="text-align:right;">
seed
</th>
<th style="text-align:left;">
method
</th>
<th style="text-align:right;">
rej_rate
</th>
<th style="text-align:right;">
rej_rate_mcse
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809087
</td>
<td style="text-align:left;">
t-test
</td>
<td style="text-align:right;">
0.048
</td>
<td style="text-align:right;">
0.0067599
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809087
</td>
<td style="text-align:left;">
Welch t-test
</td>
<td style="text-align:right;">
0.047
</td>
<td style="text-align:right;">
0.0066926
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809088
</td>
<td style="text-align:left;">
t-test
</td>
<td style="text-align:right;">
0.040
</td>
<td style="text-align:right;">
0.0061968
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809088
</td>
<td style="text-align:left;">
Welch t-test
</td>
<td style="text-align:right;">
0.040
</td>
<td style="text-align:right;">
0.0061968
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809089
</td>
<td style="text-align:left;">
t-test
</td>
<td style="text-align:right;">
0.340
</td>
<td style="text-align:right;">
0.0149800
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809089
</td>
<td style="text-align:left;">
Welch t-test
</td>
<td style="text-align:right;">
0.335
</td>
<td style="text-align:right;">
0.0149256
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809090
</td>
<td style="text-align:left;">
t-test
</td>
<td style="text-align:right;">
0.600
</td>
<td style="text-align:right;">
0.0154919
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809090
</td>
<td style="text-align:left;">
Welch t-test
</td>
<td style="text-align:right;">
0.600
</td>
<td style="text-align:right;">
0.0154919
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809091
</td>
<td style="text-align:left;">
t-test
</td>
<td style="text-align:right;">
0.876
</td>
<td style="text-align:right;">
0.0104223
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809091
</td>
<td style="text-align:left;">
Welch t-test
</td>
<td style="text-align:right;">
0.871
</td>
<td style="text-align:right;">
0.0106000
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809092
</td>
<td style="text-align:left;">
t-test
</td>
<td style="text-align:right;">
0.989
</td>
<td style="text-align:right;">
0.0032983
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809092
</td>
<td style="text-align:left;">
Welch t-test
</td>
<td style="text-align:right;">
0.989
</td>
<td style="text-align:right;">
0.0032983
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
2.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809093
</td>
<td style="text-align:left;">
t-test
</td>
<td style="text-align:right;">
1.000
</td>
<td style="text-align:right;">
0.0000000
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
2.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809093
</td>
<td style="text-align:left;">
Welch t-test
</td>
<td style="text-align:right;">
1.000
</td>
<td style="text-align:right;">
0.0000000
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
2.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809094
</td>
<td style="text-align:left;">
t-test
</td>
<td style="text-align:right;">
1.000
</td>
<td style="text-align:right;">
0.0000000
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
2.0
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
204809094
</td>
<td style="text-align:left;">
Welch t-test
</td>
<td style="text-align:right;">
1.000
</td>
<td style="text-align:right;">
0.0000000
</td>
</tr>
</tbody>
</table>
</div>
<div id="example-from-simhelpers" class="section level1">
<h1 class="hasAnchor">
<a href="#example-from-simhelpers" class="anchor"></a>Example from simhelpers</h1>
<p>The <code><a href="../reference/create_skeleton.html">create_skeleton()</a></code> function from our <code>simhelpers</code> package will open an untitled .R file which will contain the skeleton of functions required to run a simulation study.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="kw"><a href="../reference/create_skeleton.html">create_skeleton</a></span>()</a></code></pre></div>
</div>
<div id="references" class="section level1">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<p>Bengtsson, H. (2020). future: Unified Parallel and Distributed Processing in R for Everyone. R package version 1.16.0. <a href="https://CRAN.R-project.org/package=future" class="uri">https://CRAN.R-project.org/package=future</a></p>
<p>Iannone, R. (2020). DiagrammeR: Graph/Network Visualization. R package version 1.0.5. <a href="https://CRAN.R-project.org/package=DiagrammeR" class="uri">https://CRAN.R-project.org/package=DiagrammeR</a></p>
<p>Morris, T. P., White, I. R., &amp; Crowther, M. J. (2019). Using simulation studies to evaluate statistical methods. Statistics in medicine, 38(11), 2074-2102.</p>
<p>Vaughan D., &amp; Dancho, M. (2018). furrr: Apply Mapping Functions in Parallel using Futures. R package version 0.1.0. <a href="https://CRAN.R-project.org/package=furrr" class="uri">https://CRAN.R-project.org/package=furrr</a></p>
<p>Wickham et al., (2019). Welcome to the tidyverse. Journal of Open Source Software, 4(43), 1686, <a href="https://doi.org/10.21105/joss.01686" class="uri">https://doi.org/10.21105/joss.01686</a></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#experimental-design-initial">Experimental Design Initial</a></li>
      <li><a href="#generating-dataset">Generating Dataset</a></li>
      <li><a href="#estimation-methods">Estimation Methods</a></li>
      <li><a href="#performance-summaries">Performance Summaries</a></li>
      <li><a href="#simulation-driver">Simulation Driver</a></li>
      <li><a href="#experimental-design-revisit">Experimental Design Revisit</a></li>
      <li><a href="#running-the-simulation-in-serial">Running the Simulation in Serial</a></li>
      <li><a href="#running-the-simulation-in-parallel">Running the Simulation in Parallel</a></li>
      <li><a href="#example-from-simhelpers">Example from simhelpers</a></li>
      <li><a href="#references">References</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://meghapsimatrix.com">Megha Joshi</a>, <a href="https://www.jepusto.com/">James E. Pustejovsky</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'f4d0d6658ae25a0f79f8db12ee660be0',
    indexName: 'simhelpers',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
